<!DOCTYPE html>
<html>

<head>
    <html lang="en">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="Serenity Logger Framework Documentation">
    <title>Serenity Logger Landing Page</title>
    <script type="text/javascript" src="scripts/code_syntax/sh_main.js"></script>
    <script type="text/javascript" src="scripts/code_syntax/lang/sh_cpp.js"></script>
    <link type="text/css" rel="stylesheet" href="scripts/code_syntax/css/sh_nedit.css">
</head>

<body onload="sh_highlightDocument();" style="background-color:rgb(234, 204, 159);">
    <div style="background-color:#045147;">
        <hr />
        <h1 align="center" style="color:#A8C077;"><strong><em>Welcome To The Landing Page For The Serenity Logging
                    Framework Documentation</em></strong></h1>
        <div style="display: flex; justify-content: center;">
            <img src="Resources/Placeholder_Icon.png" alt="Placeholder Logo" style="width: 100px; height: 100px;" />
        </div>
        <hr />
        <div style="display: flex; justify-content:space-evenly;">
            <a href="Building/building_landing.html" style="color:rgb(189, 241, 241);">Building</a>
            <a href="Documentation/documentation_landing.html" style="color:rgb(189, 241, 241);">Documentation</a>
            <a href="Examples/examples_landing.html" style="color:rgb(189, 241, 241);">Examples</a>
            <a href="https://github.com/USAFrenzy/Serenity_Logger" style="color:rgb(189, 241, 241);">Source</a>
        </div>
        <hr />
        
        <!-------------------------------------------- This Section Covers The All About Serenity -------------------------------------------->
        <h2 align="center" style="color:#4aec9e;">What Is This Library All About?</h2>
        <p align="center" style="color:#A8C077;">Serenity is a learning project of mine that was created for the sole
            purpose of being a starting point into creating a project that would be considered "complete".
            This Library takes as inspiration <a href="https://github.com/gabime/spdlog"
                style="color:rgb(189, 241, 241);">spdlog</a>
            for its usage of user defined format patterns, its ability to swap out formatting backends,
            the ability to log to a terminal with and without color (similar to spdlog's ansicolor, wincolor, stdout,
            stdout_color sinks), the ability to log into a single file (equivalent to spdlog's basic file sink),
            as well as the ability to log using multiple files in a rotation basis (similar to spdlog's rotation based
            sinks such as the hourly, daily, and rotating_file sinks). Serenity targets all have multi-threading support
            in the form of the inherited base class, <code>"TargetBase"</code>, with the function
            <code>"EnableMultiThreadingSupport(bool enable)"</code>.
        </p>
        <p align="center" style="color:#A8C077;">
            Serenity also includes a native formatting backend in the form of <a
                href="https://github.com/USAFrenzy/ArgFormatter" style="color:rgb(189, 241, 241);">ArgFormatter</a>.
            ArgFormatter is
            another project of mine that originally stemmed from this project - it's usage is a limited replacement for
            <a href="https://github.com/fmtlib/fmt" style="color:rgb(189, 241, 241);">fmtlib</a> and
            <a href="https://en.cppreference.com/w/cpp/utility/format/format"
                style="color:rgb(189, 241, 241);"><code>"< format >"</code></a>
            and covers all plain old data types, std::tm, as well as the ability to add custom formatting for full
            compatibility
            with the aforementioned formatters. In benching timings, "<code>ArgFormatter</code>" provides faster
            formatting times
            at the cost of not being as robust as the other two. We'll dive into this more later, but just know that you
            have the
            ability to swap this formatting backend out for either "<code>fmtlib</code>" or "<code>< format ></code>" if
            you so desire.
        </p>
        <p align="center" style="color:#A8C077;">
            Serenity is also fully Unicode supported through its usage of
            <a href="https://github.com/USAFrenzy/UTF-Utils" style="color:rgb(189, 241, 241);">UTF-Utils</a> (this is
            another short
            header-only library
            I wrote initially specifically for Serenity). What this allows Serenity to do is take an input source from
            any encoding (barring
            big endian utf-16/utf-32; little endian is supported) and encodes it into utf-8 for internal usage in
            processing and formatting.
            Then, when it's time to actually log the message, Serenity will detect the char set of the container and
            encode it if need be.
            The included targets all use utf-8 compatible containers, however, if you the user decided to inherit from
            <code>TargetBase</code>,
            you could override the <code>PrintMessage()</code> function to log to almost any char-based container type.
        </p>
        <hr />

        <!-------------------------------------------- This Section Covers Serenity's Requirements -------------------------------------------->
        <h2 align="center" style="color:#4aec9e;">Serenity Requires The Following:</h2>
        <div style="display: flex; justify-content:center;">
            <ul style="color:#A8C077;">
                <li>C++ 20</li>
                <ul>
                    <li>Lambda closure type</li>
                    <li>Lambda parameter pack expansions</li>
                    <li>Aggregate initializations</li>
                    <li>Heavy use of constraints and concepts</li>
                    <li>Heavy usage of <code>std::remove_cvref_t<></code></li>
                    <li>Light usage of abbreviated function templates</li>
                    <li><code>concepts header</code></li>
                    <li><code>format header</code> if the build option <em>"USE_STDFMT"</em> is used</li>
                    <li><code>source_location header</code></li>
                    <li><code>std::jthread</code></li>
                    <li><code>std::stop_token</code></li>
                    <li><code>std::stop_source</code></li>
                </ul>
                <li>A formatting backend:</li>
                <ul>
                    <li><code>"ArgFormatter"</code> is the default backend. It uses the build option
                        <em>"USE_NATIVEFMT"</em>
                    </li>
                    <li><code>"fmtlib"</code>. It uses the build option <em>"USE_FMTLIB"</em> and defaults to version
                        9.1.0
                    </li>
                    <li><code>"std::format"</code>. It uses the build option <em>"USE_STDFMT"</em></li>
                </ul>
                <li><code>"Utf-Utils"</code> - this project is automatically included and linked in but is a hard
                    requirement
                </li>
            </ul>
        </div>
        <hr />

        <!-------------------------------------------- This Section Covers The Basic Usage -------------------------------------------->
        <h2 align="center" style="color:#4aec9e;">Brief Overview Of Usage</h2>
        <p align="center" style="color:#A8C077;">
            To start using any of the logging targets, simply `#include` any of the targets found under
            `serenity/Targets`.<br>
            The available targets for out-of-the-box usage are:
        <div style="display: flex; justify-content:center;">
            <ul style="color:#A8C077;">
                <li>FileTarget</li>
                <li>RotatingTarget</li>
                <li>ColorConsoleTarget</li>
            </ul>
            <br>
        </div>
        </p>
        <p align="center" style="color:#A8C077;">
            NOTE: Despite the naming, `ColorConsoleTarget` does also allow the user to log without color. <br>
            <br>
            <strong>
                <em>
                    <u>
                        <span style="color:#cbff64;">For the FileTarget:</span>
                        <br>
                    </u>
                </em>
            </strong>
            <br>There are three total constructors for `FileTarget`:
        <div style="display: flex; justify-content:center;">
            <ol style="color:#A8C077;">
                <li>
                    <pre class="sh_cpp">
                        explicit FileTarget(std::string_view fileName, bool replaceIfExists = false);</li>
                    </pre>
                <li>
                    <pre class="sh_cpp">
                        explicit FileTarget(std::string_view name, std::string_view filePath, bool replaceIfExists = false);</li>
                    </pre>
                <li>
                    <pre class="sh_cpp">
                        explicit FileTarget(std::string_view name, std::string_view formatPattern, std::string_view filePath, bool replaceIfExists = false);</li>
                    </pre>
            </ol>
            <br>
        </div>
        </p>
        <p align="center" style="color:#A8C077;">

            <em>
                <u>
                    <span style="color:#cbff64;"> Constructor #1 :</span>
                </u>
            </em>
            <br>
            For this constructor, the " <span style="color:#27408b; background-color:#A8C077;"> std::string_view
                fileName</span> " parameter is the name of the file to be created. The file will be created at the
            default file path being the current process's file directory + "Logs" + fileName.
            <br>
            The default format pattern will be used and will result in the log format of: [Short_Level] DDD ddmmmyy
            HH:MM:SS [Logger_Name]: Log_Message Platform_Line_Ending.
            <br>
            The " <span style="color:#27408b; background-color:#A8C077;"> bool replaceIfExists =false</span> " parameter
            will control whether or not the file is truncated when it is opened (assuming it already exists).
            <br>
            The default name will be used and will result in this logger's name being "File_Logger".
            <br>

            <br>
            <em>
                <u>
                    <span style="color:#cbff64;">Constructor #2 :</span>
                </u>
            </em>
            <br>
            The " <span style="color:#27408b; background-color:#A8C077;"> std::string_view filePath</span> " parameter
            will be the full file path of the file to be created. If the directories are not already present, then this
            constructor will create the necessary directories in order to create the file properly.
            <br>
            The default format pattern will be used and will result in the log format of: [Short_Level] DDD ddmmmyy
            HH:MM:SS [Logger_Name]: Log_Message Platform_Line_Ending.
            <br>
            The " <span style="color:#27408b; background-color:#A8C077;"> bool replaceIfExists =false</span> " parameter
            will control whether or not the file is truncated when it is opened (assuming it already exists).
            <br>
            The " <span style="color:#27408b; background-color:#A8C077;"> name </span> " parameter is the name the
            logger is identified by.
            <br>
            <br>
            <em>
                <u>
                    <span style="color:#cbff64;">Constructor #3 :</span>
                </u>
            </em>
            <br>

            <br>
            The " <span style="color:#27408b; background-color:#A8C077;"> std::string_view filePath</span> " parameter
            will be the full file path of the file to be created. If the directories are not already present, then this
            constructor will create the necessary directories in order to create the file properly.
            <br>
            The " <span style="color:#27408b; background-color:#A8C077;"> bool replaceIfExists =false</span> " parameter
            will control whether or not the file is truncated when it is opened (assuming it already exists).
            <br>
            The " <span style="color:#27408b; background-color:#A8C077;"> std::string_view
                formatPattern</span> " parameter is the user defined format pattern that can be found <a
                style="color:rgb(189, 241, 241);" href="">[PLACE_HOLDER]</a>.
            <br>
            The " <span style="color:#27408b; background-color:#A8C077;"> name </span> " parameter is the name the
            logger is identified by.
            <br>

            <br>

        </p>

        <!-------------------------------------------- This Section Covers The Benchmarks -------------------------------------------->
        <hr />
        <h2 align="center" style="color:#4aec9e;">Current Timings (As Of 27Nov22):</h2>
        <p align="center" style="color:#A8C077;">
            Benched Using i7-10750H CPU, 16GB DDR4-2933 RAM - Instrumentation Data (Averaged Over 2000000
            Iterations).<br>
            Serenity is using `ArgFormatter` and spdlog is using its bundled `fmtlib` (the respective project
            defaults).<br>
            The argument passed into each log call was a 400 byte c-style string.<br>
            Benched against spdlog version 1.11.0 with Serenity.<br>
        </p>
        <table align="center" style="color:#A8C077;">
            <colgroup>
                <col span="6" style="background-color:#A8C077">
                <col span="6" style="background-color:#A8C077">
                <col span="6" style="background-color:#A8C077">
            </colgroup>
            <tr>
                <th><span style="color:#022d0d;"><em> Logging Sink/Target </em></span></th>
                <th><span style="color:#022d0d;"><em> Logging Speed </em></span></th>
                <th><span style="color:#022d0d;"><em> Logging Throughput </em></span></th>
            </tr>
            <tr>
                <td><span style="color:#022d0d;"> Serenity Console Logger </span></td>
                <td><span style="color:#022d0d;"> 9.363900 ns </span></td>
                <td><span style="color:#022d0d;"> 40738.340 MB/s </span></td>
            </tr>
            <tr>
                <td><span style="color:#022d0d;"> Spdlog Console Sink </span></td>
                <td><span style="color:#022d0d;"> 12.470650 ns </span></td>
                <td><span style="color:#022d0d;"> 30589.402 MB/s </span></td>
            </tr>
            <tr>
                <td><span style="color:#022d0d;"> Serenity File Target </span></td>
                <td><span style="color:#022d0d;"> 350.157898 ns </span></td>
                <td><span style="color:#022d0d;"> 1089.422 MB/s </span></td>
            </tr>
            <tr>
                <td><span style="color:#022d0d;"> Spdlog Basic File Sink </span></td>
                <td><span style="color:#022d0d;"> 1146.801392 ns </span></td>
                <td><span style="color:#022d0d;"> 332.638 MB/s </span></td>
            </tr>
            <tr>
                <td><span style="color:#022d0d;"> Serenity Rotating Target </span></td>
                <td><span style="color:#022d0d;"> 1397.577515 ns </span></td>
                <td><span style="color:#022d0d;"> 272.951 MB/s </span></td>
            </tr>
            <tr>
                <td><span style="color:#022d0d;"> Spdlog Rotating Sink </span></td>
                <td><span style="color:#022d0d;"> 2852.143555 ns </span></td>
                <td><span style="color:#022d0d;"> 133.748 MB/s </span></td>
            </tr>
        </table>
        <hr />
        <br><br>
        <hr />
    </div>
</body>

</html>