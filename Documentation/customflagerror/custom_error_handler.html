<!DOCTYPE html>
<html lang="en">

<head>
    <html lang="en">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation</title>
    <script type="text/javascript" src="../../scripts/code_syntax/sh_main.js"></script>
    <script type="text/javascript" src="../../scripts/code_syntax/lang/sh_cpp.js"></script>
    <script type="text/javascript" src="../../scripts/layout/layout.js"></script>
    <script type="text/javascript" src="../../scripts/layout/docs.js"></script>
    <link rel="stylesheet" href="../../scripts/layout/common.css">
    <link rel="stylesheet" href="../../scripts/layout/docs.css">
</head>

<body onload="sh_highlightDocument();">
    <section id="Top"></section>
    <div class="outerBorder">
        <div id="doc_tree" class="side_doc_tree">
            <a href="javascript:void(0)" class="close_doc_tree" onclick="CloseDocTree()">&times;</a>
            <div class="dropdown" onmouseleave="CollapseAllLinks()">
                <a class="side_doc_link" href="../documentation_landing.html" onmouseenter="CollapseAllLinks()">Doc Home
                    Page</a>
                <br><br>
                <a class="side_doc_link" href="#" onmouseenter="ToggleNSLinks()">Namespaces</a>
                <a class="namespace_link" href="../namespaces/serenity.html">serenity</a>
                <a class="namespace_link" href="../namespaces/targets.html">targets</a>
                <a class="namespace_link" href="../namespaces/se_colors.html">se_colors</a>
                <a class="namespace_link" href="../namespaces/msg_details.html">msg_details</a>
                <a class="namespace_link" href="../namespaces/helpers.html">helpers</a>
                <a class="namespace_link" href="../namespaces/globals.html">globals</a>
                <a class="namespace_link" href="../namespaces/serenity_luts.html">SERENITY_LUTS</a>
                <a class="namespace_link" href="../namespaces/custom_flags.html">custom_flags</a>
                <a class="namespace_link" href="../namespaces/custom_flag_error.html">CustomFlagError</a>
                <br><br>
                <a class="side_doc_link" href="#" onmouseenter="ToggleClassLinks()">Classes</a>
                <a class="classes_link" href="../serenity_classes/flush_policy.html">Flush_Policy</a>
                <a class="classes_link" href="../msg_details/message_formatter.html">Message_Formatter</a>
                <a class="classes_link" href="../msg_details/message_info.html">Message_Info</a>
                <a class="classes_link" href="../msg_details/zone_thread.html">ZoneThread</a>
                <a class="classes_link" href="../msg_details/message_time.html">Message_Time</a>
                <a class="classes_link" href="../targets/ConsoleTarget.html">ConsoleTarget</a>
                <a class="classes_link" href="../targets/FileTarget.html">FileTarget</a>
                <a class="classes_link" href="../targets/RotatingTarget.html">RotatingTarget</a>
                <a class="classes_link" href="../serenity_classes/rotate_settings.html">RotateSettings</a>
                <a class="classes_link" href="../targets/TargetBase.html">TargetBase</a>
                <a class="classes_link" href="../helpers/file_helper.html">FileHelper</a>
                <a class="classes_link" href="../helpers/file_cache.html">FileCache</a>
                <a class="classes_link" href="../helpers/base_target_helper.html">BaseTargetHelper</a>
                <a class="classes_link" href="../msg_details/custom_flags.html#format_source_loc">Format_Source_Loc</a>
                <a class="classes_link" href="../msg_details/custom_flags.html#format_thread_id">Format_Thread_ID</a>
                <a class="classes_link"
                    href="../customflagerror/custom_error_handler.html#format_error">format_error</a>
                <br><br>
                <a class="side_doc_link" href="#" onmouseenter="ToggleStructLinks()">Structs</a>
                <a class="structs_link" href="#logger_lvl">CustomFormatter&lt;LoggerLevel&gt;</a>
                <a class="structs_link" href="#std_tm">CustomFormatter&lt;std::tm&gt;</a>
                <a class="structs_link" href="serenity_classes/periodic_settings.html">PeriodicSettings</a>
                <a class="structs_link" href="serenity_classes/rotate_limits.html">RotateLimits</a>
                <a class="structs_link" href="targets/RotatingDaylightCache.html">RotatingDaylightCache</a>
                <a class="structs_link" href="../helpers/background_thread.html">BackgroundThread</a>
                <a class="structs_link" href="../helpers/msg_with_loc.html">MsgWithLoc</a>
                <a class="structs_link" href="customflagerror/custom_error_handler.html">custom_error_handler</a>
            </div>
        </div>
        <div class="sticky_content" style="background-color: #045147;" onclick="menu_active(this)">
            <div class="mobile_search-bar">
                <form action="placeholder">
                    <input type="text" class="mobile_searchBox" placeholder="Enter Search Term Here">
                    <input type="image" class="mobile_search_button" src="../Resources/search_icon_clipart.png"></input>
                </form>
            </div>
            <div class="hamburger_menu">
                <div class="bar1"></div>
                <div class="bar2"></div>
                <div class="bar3"></div>
                <div class="nav_menu">
                    <button class="doc_button" onclick="OpenDocTree()"> Documentation Tree </button>
                    <a class="nav_link" href="../../index.html">Home</a>
                    <a class="nav_link" href="../../Building/building_landing.html">Building</a>
                    <a class="nav_link" href="../../Examples/examples_landing.html">Examples</a>
                    <a class="nav_link" href="https://github.com/USAFrenzy/Serenity_Logger">Source</a>
                    <a class="nav_link" href="#Top"> Go To Top </a>
                    <div class="dropdown">
                        <button class="contents"> Page Contents </button>
                        <div class="dropdown-content">
                            <a class="nav_link" href="#format_error">format_error</a>
                            <a class="nav_link" href="#cust_err_msg">custom_error_messages</a>
                            <a class="nav_link" href="#custom_err_enum">enum CustomErrors</a>
                            <a class="nav_link" href="#report_cust_err">ReportCustomError(CustomErrors err)</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="sticky_content">
            <div class="docLinks">
                <button class="doc_button" onclick="OpenDocTree()"> Documentation Tree </button>
                <div class="dropdown">
                    <button class="contents"> Page Contents </button>
                    <div class="dropdown-content">
                        <a class="nav_link" href="#format_error">format_error</a>
                        <a class="nav_link" href="#cust_err_msg">custom_error_messages</a>
                        <a class="nav_link" href="#custom_err_enum">enum CustomErrors</a>
                        <a class="nav_link" href="#report_cust_err">ReportCustomError(CustomErrors err)</a>
                    </div>
                </div>
                <a class="docLink" href="../../index.html">Home</a>
                <a class="docLink" href="../../Building/building_landing.html">Building</a>
                <a class="docLink" href="../../Examples/examples_landing.html">Examples</a>
                <a class="docLink" href="https://github.com/USAFrenzy/Serenity_Logger">Source</a>
                <div class="docLink">
                    <form action="placeholder">
                        <input type="text" class="desktop_searchBox" placeholder="Enter Search Term Here">
                        <input type="image" class="desktop_search_button"
                            src="../Resources/search_icon_clipart.png"></input>
                    </form>
                </div>
            </div>
        </div>
        <br><br>
        <div class="mainHeaders">
            <h1 align="center" style="color:#A8C077;"><strong><em>Custom Formatter Error Handling</em></strong></h1>
        </div>
        <br><br><br>
        <div id="main-body">
            <section id="format_error"></section>
            <div class="subHeaders"> format_error </div>
            <p style="text-align: center;">
                This class is used as a compatible drop-in for the &lt;format&gt;'s' and fmtlib's respective
                format_error class; of which the main purpose to issue warnings and errors from the custom formatters
                listed below. Serenity's 'format_error' inherits from std::runtime_error.
            </p>
            <div class="codeBlock">
                <pre class="sh_cpp" style="background-color: #A8C077;">

class format_error: public std::runtime_error
{
  public:
    inline explicit format_error(const char* message): std::runtime_error(message) { }
    inline explicit format_error(const std::string& message): std::runtime_error(message) { }
    inline format_error(const format_error&)            = default;
    inline format_error& operator=(const format_error&) = default;
    inline format_error(format_error&&)                 = default;
    inline format_error& operator=(format_error&&)      = default;
    inline ~format_error() noexcept override            = default;
};

</pre>
            </div>

            <section id="cust_err_msg"></section>
            <div class="subHeaders"> custom_error_messages </div>
            <p style="text-align: center;">
                This static array is used to index into from the ReportCustomError() function to issue the warning or
                error and contains the following messages:
            </p>
            <div class="codeBlock">
                <pre class="sh_cpp" style="background-color: #A8C077;">

static constexpr std::array<const char*, 5> custom_error_messages = {
    <span style="color: #05420a;">"Unknown Formatting Error Occurred In Internal Serenity CustomFlag Formatting.",
    "Error In Internal CustomFlag Formatting For Serenity: Missing '%' before flag.",
    "Error In Internal CustomFlag Formatting For Serenity:  An Escaped Opening Bracket Was Detected - Missing Escaped Closing Bracket.",
    "Error In Internal CustomFlag Formatting For Serenity:  An Unsupported Flag Was Encountered.",
    "Error In Internal CustomFlag Formatting For Serenity:  Flag Specifier Token Found, But With No Flag Present.",</span>
};

            </pre>
            </div>
            <section id="custom_err_enum"></section>
            <div class="subHeaders"> enum CustomErrors </div>
            <p style="text-align: center;">
                This enum is what is used specifically for `ReportCustomError()` as well as what is used to map the
                error messages to the actual error.
            </p>
            <div class="codeBlock">
                <pre class="sh_cpp"
                    style="justify-content: center; margin-left: auto; margin-right: auto; background-color: #A8C077; width: fit-content; padding-left: 2%; padding-right: 2%;">

enum class CustomErrors
{
    missing_enclosing_bracket,
    missing_flag_specifier,
    unknown_flag,
    token_with_no_flag,
    no_flag_mods,
};
                </pre>
            </div>
            <section id="report_cust_err"></section>
            <div class="subHeaders"> ReportCustomError() </div>
            <p style="text-align: center;">
                This function is essentially a wrapper that uses a `CustomErrors` enum value in order to index into the
                `custom_error_messages` array for error reporting.
            </p>
            <div class="codeBlock">
                <pre class="sh_cpp" style="background-color: #A8C077;">

[[noreturn]] constexpr void ReportCustomError(CustomErrors err) {
    using enum CustomErrors;
    switch( err ) {
            case missing_flag_specifier: throw format_error(custom_error_messages[ 1 ]); break;
            case missing_enclosing_bracket: throw format_error(custom_error_messages[ 2 ]); break;
            case unknown_flag: throw format_error(custom_error_messages[ 3 ]); break;
            case token_with_no_flag: throw format_error(custom_error_messages[ 4 ]); break;
            case no_flag_mods: throw format_error(custom_error_messages[ 5 ]); break;
            default: throw format_error(custom_error_messages[ 0 ]); break;
        }
}
                    </pre>
            </div>
            <hr />
        </div>
        <br><br>
    </div>
</body>

</html>